(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),s=n.n(r),c=(n(14),n(1)),i=n(2),l=n(4),u=n(3),p=n(5),m=(n(15),[{featureType:"water",stylers:[{color:"#4dffff"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{weight:6}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#231a1c"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#3a3735"},{lightness:-40}]},{featureType:"transit.station",stylers:[{weight:9},{hue:"#669999"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{lightness:100}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{lightness:-100}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"},{color:"#425466"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#565147"},{lightness:25}]}]),d=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).toggleSide=function(){document.querySelector("aside").classList.toggle("toggle-off")},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",{"aria-label":"Caf\xe9s in Historic Center of Vienna"},o.a.createElement("span",{tabIndex:"0","aria-label":"Toggle Search Input and list of locations",className:"hamburger fas fa-bars",onClick:this.toggleSide}),o.a.createElement("h1",null,"Best Caf\xe9s in Historic Vienna"))}}]),t}(a.Component),h=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("aside",null,o.a.createElement("div",{className:"search"},o.a.createElement("input",{type:"text",placeholder:"Search caf\xe9...",onChange:function(t){return e.props.handleSearch(t.target.value)},value:this.props.search,"aria-label":"Filter Caf\xe9s",tabIndex:"0"})),0!==this.props.venues.length&&o.a.createElement("ul",{className:"cafe-list"},this.props.venues.map(function(t){return o.a.createElement("li",{key:t.venue.id,role:"Menuitem",onClick:function(){return e.props.handleClick(t.venue.id)},tabIndex:"0"},t.venue.name)})),0===this.props.venues.length&&""!==this.props.search&&o.a.createElement("p",{className:"alert"},"This caf\xe9 isn't in our DB"))}}]),t}(a.Component),f=(n(16),"".concat("AIzaSyD50LGooTMcy5Wd3QkzEYHxfG5To1LautU")),g="".concat("DEH51PG2X0ZMY0OQGXA4MCGIFLKQRWOKIHGTVXJ3ALBS2P33"),w="".concat("5NPTSTADOA2TAKK4JQFI1TBZODMGWEF201IEXB3BLBGFCQLE"),v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).fetchVenues=function(){var e={query:"coffee",secTwo:"nextVenue",near:"Vienna",lat:48.208176,lng:16.373819,radius:1e3,locale:"en",limit:50,v:"20181412"},t="https://api.foursquare.com/v2/venues/explore?"+"client_id=".concat(g,"&client_secret=").concat(w,"&v=").concat(e.v,"&query=").concat(e.query,"&section=").concat(e.section,"&section=").concat(e.secTwo,"&ll=").concat(e.lat,",").concat(e.lng,"&radius=").concat(e.radius,"&limit=").concat(e.limit,"&locale=").concat(e.locale,"&intent=browse");fetch(t).then(function(e){return e.json()}).then(function(e){n.setState({venues:e.response.groups[0].items,searchVenues:e.response.groups[0].items},n.renderMap())}).catch(function(e){return console.log("Error occurs "+e)})},n.renderMap=function(){!function(e){var t=window.document.createElement("script");t.src=e,t.async=!0,t.defer=!0,document.body.appendChild(t)}("https://maps.googleapis.com/maps/api/js?key=".concat(f,"&v=3&callback=initMap")),window.initMap=n.initMap},n.initMap=function(){var e=n.state,t=e.venues,a=e.markers,o=new window.google.maps.Map(document.getElementById("map"),{center:{lat:48.208176,lng:16.373819},zoom:15,styles:m,mapTypeControl:!1,streetViewControl:!0,streetViewControlOptions:{position:window.google.maps.ControlPosition.LEFT_TOP}}),r=new window.google.maps.InfoWindow,s=n.makeMarkerIcon("e6005c");n.makeMarkerIcon("d4c382");t.map(function(e){var t={lat:e.venue.location.lat,lng:e.venue.location.lng},c=e.venue.name,i=e.venue.location.address,l=e.venue.location.postalCode,u=e.venue.id,p=new window.google.maps.Marker({map:o,position:t,title:c,address:i,postal:l,id_marker:u,animation:window.google.maps.Animation.DROP,icon:s});a.push(p),n.setState({markers:a});var m='\n       <div class="card">\n        <h2>'.concat(c,"</h2>\n        <p><strong>Address:</strong> ").concat(i,", <strong>ZIP:</strong> ").concat(l,"</p>\n        <p><strong>Location:</strong> lat: ").concat(t.lat,", lng: ").concat(t.lng,"</p>\n       </div>\n      ");p.addListener("click",function(){r.setContent(m),r.open(o,p)}),r.addListener("clickout",function(){r.setMarker(null)})})},n.makeMarkerIcon=function(e){return new window.google.maps.MarkerImage("http://chart.googleapis.com/chart?chst=d_map_spin&chld=1.15|0|"+e+"|40|_|%E2%80%A2",new window.google.maps.Size(22,30),new window.google.maps.Point(0,0),new window.google.maps.Point(10,34),new window.google.maps.Size(22,30))},n.handleSearch=function(e){n.setState({search:e,venues:n.state.searchVenues.filter(function(t){return new RegExp(e,"i").exec(t.venue.name)})})},n.handleClick=function(e){n.setState({selectCafe:e}),n.state.markers.map(function(t){t.id_marker===e&&(window.google.maps.event.trigger(t,"click"),t.setIcon(n.makeMarkerIcon("80ffff")),setTimeout(function(){t.setIcon(n.makeMarkerIcon("e6005c"))},2500))})},n.state={venues:[],markers:[],searchVenues:[],search:"",selectCafe:null},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchVenues()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(d,null),o.a.createElement("div",{className:"App"},o.a.createElement(h,{venues:this.state.venues,search:this.state.search,searchVenues:this.state.venues,handleSearch:this.handleSearch,handleClick:this.handleClick}),o.a.createElement("main",null,o.a.createElement("div",{id:"map",role:"application"}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports=n(17)}},[[8,1,2]]]);
//# sourceMappingURL=main.b8b88db3.chunk.js.map